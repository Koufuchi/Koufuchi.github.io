(()=>{var e={85:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GameVars:()=>r});const s=window.innerWidth,i=window.innerHeight,r={storeId:"igorfie-the-raising-fighting-spirits",gameW:s,gameH:i,pixelSize:void 0,gameWdAsPixels:void 0,gameHgAsPixels:void 0,cardContX:void 0,cardContY:void 0,cardContW:void 0,cardContH:89,sound:void 0,reaper:void 0,cards:void 0,soulsConts:void 0,souls:void 0,soulsInGame:void 0,prevSoul:void 0,soulInUse:void 0,nextSoul:void 0,maxPlayCards:void 0,cardsPlayed:void 0,drawCardNumb:void 0,isPlayerTurn:void 0,turnCount:void 0,score:void 0,reaperNextEventTurn:void 0,soulNextEventTurn:void 0,soulLife:void 0,soulLifeBuff:void 0,cardDmg:void 0,cardDmgBuff:void 0,cardShield:void 0,cardShieldBuff:void 0,isEventRunning:void 0,isMonetActive:void 0,redraw:void 0,resetGameVars:()=>{r.cardContX=0,r.cardContY=0,r.cardContW=0,r.reaper=null,r.soulsConts=[],r.souls=[],r.soulsInGame=0,r.cards=[],r.prevSoul=null,r.soulInUse=null,r.nextSoul=null,r.maxPlayCards=2,r.cardsPlayed=0,r.drawCardNumb=5,r.isPlayerTurn=!0,r.score=0,r.turnCount=0,r.reaperNextEventTurn=6,r.soulNextEventTurn=3,r.soulLife=10,r.soulLifeBuff=5,r.cardDmg=2,r.cardDmgBuff=4,r.cardShield=2,r.cardShieldBuff=4,r.isEventRunning=!1;let e=Math.round(2/830*(i-270)+1),a=Math.round(2/520*(s-480)+1);r.pixelSize=e<a?e:a,r.gameWdAsPixels=r.gameW/r.pixelSize,r.gameHgAsPixels=r.gameH/r.pixelSize,r.cardContW=Math.round(r.gameW/2/r.pixelSize),r.cardContX=r.gameW/2-r.cardContW/2*r.pixelSize,r.cardContY=r.gameH-r.cardContH*r.pixelSize}}},897:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Game:()=>k});var s=t(85),i=t(152),r=t(652);const{convertTextToPixelArt:n,drawPixelTextInCanvas:l}=t(28),{genLargeBox:o}=t(152),{createElem:h}=t(879);class u{constructor(e,a,t,i,r){this.x=a,this.y=t,this.eType=i,this.isMonet=r,this.canv=h(e,"canvas",null,["ontop"],100*s.GameVars.pixelSize,60*s.GameVars.pixelSize,null,(()=>{if(!this.isMonet||this.isMonet&&s.GameVars.isMonetActive){switch(s.GameVars.sound.buffSound(),this.eType){case 0:s.GameVars.cardDmg+=s.GameVars.cardDmgBuff,s.GameVars.cardDmgBuff++;break;case 1:s.GameVars.maxPlayCards++;break;case 2:s.GameVars.souls.forEach((e=>e.forEach((e=>{e&&(e.soulStats.maxLife+=s.GameVars.soulLifeBuff,e.soulStats.draw())})))),s.GameVars.soulLife+=s.GameVars.soulLifeBuff,s.GameVars.soulLifeBuff+=5;break;case 3:s.GameVars.drawCardNumb++;break;default:s.GameVars.cardShield+=s.GameVars.cardShieldBuff,s.GameVars.cardShieldBuff++}e.parentElement.classList.add("hidden"),e.innerHTML="",s.GameVars.isEventRunning=!1}})),this.ctx=this.canv.getContext("2d"),this.drawBtn()}genBtnText(){switch(this.eType){case 0:return n("cards damage +"+s.GameVars.cardDmgBuff);case 1:return n("energy +1");case 2:return n("souls life +"+s.GameVars.soulLifeBuff);case 3:return n("cards draw +1");default:return n("cards shield +"+s.GameVars.cardShieldBuff)}}drawBtn(){this.ctx.clearRect(0,0,this.canv.width,this.canv.height),this.canv.style.translate=s.GameVars.gameW/2-(this.canv.width+3*s.GameVars.pixelSize)+this.x*(this.canv.width+12*s.GameVars.pixelSize)+"px "+(s.GameVars.gameH/2-this.canv.height/3*2+this.y*(this.canv.height+12*s.GameVars.pixelSize))+"px";let e=s.GameVars.isMonetActive?"rgba(255,240,150,0.9)":"rgba(125,125,125,0.9)";o(this.canv,0,0,99,59,s.GameVars.pixelSize,"black",this.isMonet?e:"rgba(255,255,255,0.8)"),this.isMonet?(l(n("enable"),this.canv,s.GameVars.pixelSize,50,20,"black",1),l(n("monetization"),this.canv,s.GameVars.pixelSize,50,30,"black",1),l(this.genBtnText(),this.canv,s.GameVars.pixelSize,50,40,"black",1)):l(this.genBtnText(),this.canv,s.GameVars.pixelSize,50,30,"black",1)}}const{convertTextToPixelArt:d,drawPixelTextInCanvas:m}=t(28),{createElem:c}=t(879);class x{constructor(e){this.eDiv=c(e,"div",null,["hidden"]),this.eCanv=c(this.eDiv,"canvas",null,["ontop"],s.GameVars.gameW,s.GameVars.gameH,"rgb(101,107,114,0.6)"),this.selectDiv=c(this.eDiv,"div"),this.eventBtns=[],(0,i.genLargeBox)(this.eCanv,-20,Math.round(s.GameVars.gameHgAsPixels/14-25),s.GameVars.gameWdAsPixels+40,70,s.GameVars.pixelSize,"black","rgba(255,255,255,0.8)"),m(d("event"),this.eCanv,s.GameVars.pixelSize,s.GameVars.gameWdAsPixels/2,Math.round(s.GameVars.gameHgAsPixels/14),"black",6),m(d("select a power up"),this.eCanv,s.GameVars.pixelSize,s.GameVars.gameWdAsPixels/2,Math.round(s.GameVars.gameHgAsPixels/14+30),"black",2)}startEvent(){this.eDiv.classList.remove("hidden");let e={};for(let a=0;a<2;a++)for(let t=0;t<2;t++){let s=(0,r.cP)(5);for(;e[s+""];)s=(0,r.cP)(5);e[s+""]=1,this.eventBtns.push(new u(this.selectDiv,t,a,s,1===a&&1===t))}}}const{Card:g}=t(172),{genSmallBox:p,genLargeBox:S}=t(152),{convertTextToPixelArt:v,drawPixelTextInCanvas:G}=t(28),{createElem:C}=t(879);class V{constructor(e){this.energy=s.GameVars.maxPlayCards-s.GameVars.cardsPlayed,this.isNewTurn=!0,this.wasMonetDeal=!1;let a=C(e,"div","ui-container");this.turnCountCanv=C(a,"canvas",null,null,s.GameVars.gameW,50*s.GameVars.pixelSize),this.turnCountCanv.style.translate=s.GameVars.gameW/2-this.turnCountCanv.width/2+"px "+Math.round((s.GameVars.gameHgAsPixels/14-25)*s.GameVars.pixelSize)+"px",this.turnCountCtx=this.turnCountCanv.getContext("2d"),this.energyCanv=C(a,"canvas"),this.energyCtx=this.energyCanv.getContext("2d"),this.energyCanv.width=67*s.GameVars.pixelSize,this.energyCanv.height=99*s.GameVars.pixelSize,this.energyCanv.style.transform="translate(0px,"+(s.GameVars.gameH-this.energyCanv.height)+"px)",this.turnControlCanv=C(a,"canvas"),this.turnControlCtx=this.turnControlCanv.getContext("2d"),this.nextSoulCanv=C(a,"canvas",null,null,null,null,null,(e=>this.selectNextSoul())),this.nextSoulCtx=this.nextSoulCanv.getContext("2d"),this.prevSoulCanv=C(a,"canvas",null,null,null,null,null,(e=>this.selectPrevSoul())),this.prevSoulCtx=this.prevSoulCanv.getContext("2d"),this.endTurnCanv=C(a,"canvas",null,null,null,null,null,(e=>this.endTurn())),this.endTurnCtx=this.endTurnCanv.getContext("2d"),this.turnControlCanv.width=67*s.GameVars.pixelSize,this.turnControlCanv.height=99*s.GameVars.pixelSize,this.turnControlCanv.style.transform="translate("+(s.GameVars.gameW-this.turnControlCanv.width)+"px,"+(s.GameVars.gameH-this.turnControlCanv.height)+"px)",this.endTurnCanv.width=67*s.GameVars.pixelSize,this.endTurnCanv.height=24*s.GameVars.pixelSize,this.endTurnCanv.style.transform="translate("+(s.GameVars.gameW-this.endTurnCanv.width)+"px,"+(s.GameVars.gameH-this.turnControlCanv.height)+"px)",this.prevSoulCanv.width=67*s.GameVars.pixelSize,this.prevSoulCanv.height=22*s.GameVars.pixelSize,this.prevSoulCanv.style.transform="translate("+(s.GameVars.gameW-this.prevSoulCanv.width)+"px,"+(s.GameVars.gameH-this.prevSoulCanv.height)+"px)",this.nextSoulCanv.width=67*s.GameVars.pixelSize,this.nextSoulCanv.height=22*s.GameVars.pixelSize,this.nextSoulCanv.style.transform="translate("+(s.GameVars.gameW-this.nextSoulCanv.width)+"px,"+(s.GameVars.gameH-this.prevSoulCanv.height-this.nextSoulCanv.height)+"px)",this.cardCont=C(e,"div","card-container"),this.cardEvent=new x(e)}selectNextSoul(){s.GameVars.nextSoul&&(s.GameVars.sound.clickSound(),s.GameVars.nextSoul.select())}selectPrevSoul(){s.GameVars.prevSoul&&(s.GameVars.sound.clickSound(),s.GameVars.prevSoul.select())}endTurn(){!s.GameVars.isEventRunning&&s.GameVars.isPlayerTurn&&(s.GameVars.sound.clickSound(),s.GameVars.cards.forEach((e=>e.dispose())),s.GameVars.cards=[],s.GameVars.isPlayerTurn=!1,this.isNewTurn=!0)}playerTurn(){if(s.GameVars.soulNextEventTurn===s.GameVars.turnCount&&this.isNewTurn)s.GameVars.soulNextEventTurn+=3,s.GameVars.isEventRunning=!0,this.cardEvent.startEvent();else if(!s.GameVars.isEventRunning&&this.isNewTurn){this.isNewTurn=!1,this.wasMonetDeal=!1,s.GameVars.cardsPlayed=0,s.GameVars.turnCount++;for(let e=0;e<s.GameVars.drawCardNumb;e++)s.GameVars.cards.push(new g(this.cardCont,s.GameVars.cardContX,s.GameVars.cardContY));s.GameVars.cards[0].updateCards(),s.GameVars.redraw=!0}else if(s.GameVars.isEventRunning||!s.GameVars.isMonetActive||this.wasMonetDeal)s.GameVars.isEventRunning&&this.cardEvent.eventBtns.forEach((e=>{e.isMonet&&e.drawBtn()}));else{this.wasMonetDeal=!0,s.GameVars.cardsPlayed--;let e=new g(this.cardCont,s.GameVars.cardContX,s.GameVars.cardContY);s.GameVars.cards.push(e),e.updateCards(),s.GameVars.redraw=!0}if(s.GameVars.soulsInGame>0){const e=s.GameVars.soulInUse;s.GameVars.prevSoul=null,s.GameVars.nextSoul=null,s.GameVars.souls.forEach((a=>a.forEach((a=>{a&&a!==e&&((a.y<e.y||a.y===e.y&&a.x<e.x)&&(s.GameVars.prevSoul=a),null===s.GameVars.nextSoul&&(a.y>e.y||a.y===e.y&&a.x>e.x)&&(s.GameVars.nextSoul=a))}))))}}draw(){this.energyCtx.clearRect(0,0,this.energyCanv.width,this.energyCanv.height),this.energyCanv.width=67*s.GameVars.pixelSize,this.energyCanv.height=99*s.GameVars.pixelSize,this.energyCanv.style.transform="translate(0px,"+(s.GameVars.gameH-this.energyCanv.height)+"px)",S(this.energyCanv,0,0,66,98,s.GameVars.pixelSize,"black","rgba(255,255,255,0.9)"),S(this.energyCanv,5,5,56,53,s.GameVars.pixelSize,"black","white"),G(v("energy"),this.energyCanv,s.GameVars.pixelSize,33,12),this.energy=s.GameVars.maxPlayCards-s.GameVars.cardsPlayed,p(this.energyCanv,17,17,31,30,s.GameVars.pixelSize,"black","white"),G(v(this.energy),this.energyCanv,s.GameVars.pixelSize,33,32,"black",3),p(this.energyCanv,5,63,56,30,s.GameVars.pixelSize,"black",s.GameVars.isMonetActive?"gold":"gray"),G(v("enable"),this.energyCanv,s.GameVars.pixelSize,34,70),G(v("monetization"),this.energyCanv,s.GameVars.pixelSize,34,78),G(v("gain +1 energy"),this.energyCanv,s.GameVars.pixelSize,34,86),this.turnControlCtx.clearRect(0,0,this.turnControlCanv.width,this.turnControlCanv.height),S(this.turnControlCanv,0,0,66,98,s.GameVars.pixelSize,"black","rgba(255,255,255,0.9)"),p(this.turnControlCanv,5,23,56,31,s.GameVars.pixelSize,"black",s.GameVars.isMonetActive?"gold":"gray"),G(v("enable"),this.turnControlCanv,s.GameVars.pixelSize,34,28),G(v("monetization"),this.turnControlCanv,s.GameVars.pixelSize,34,35),G(v("draw +1"),this.turnControlCanv,s.GameVars.pixelSize,34,42),G(v("extra card"),this.turnControlCanv,s.GameVars.pixelSize,34,49),this.endTurnCtx.clearRect(0,0,this.prevSoulCanv.width,this.prevSoulCanv.height),S(this.endTurnCanv,5,5,56,13,s.GameVars.pixelSize,"black",s.GameVars.isPlayerTurn?"white":"gray"),G(v("end turn"),this.endTurnCanv,s.GameVars.pixelSize,34,12),this.prevSoulCtx.clearRect(0,0,this.prevSoulCanv.width,this.prevSoulCanv.height),S(this.prevSoulCanv,5,3,56,13,s.GameVars.pixelSize,"black",s.GameVars.prevSoul?"white":"gray"),G(v("previous soul"),this.prevSoulCanv,s.GameVars.pixelSize,34,10),this.nextSoulCtx.clearRect(0,0,this.nextSoulCanv.width,this.nextSoulCanv.height),S(this.nextSoulCanv,5,5,56,13,s.GameVars.pixelSize,"black",s.GameVars.nextSoul?"white":"gray"),G(v("next soul"),this.nextSoulCanv,s.GameVars.pixelSize,34,12),this.turnCountCtx.clearRect(0,0,this.turnCountCanv.width,this.turnCountCanv.height),S(this.turnCountCanv,-20,0,s.GameVars.gameWdAsPixels+40,49,s.GameVars.pixelSize,"black","rgba(255,255,255,0.9)"),G(v("turn "+s.GameVars.turnCount),this.turnCountCanv,s.GameVars.pixelSize,s.GameVars.gameWdAsPixels/2,18,"black",2),G(v("score "+s.GameVars.score),this.turnCountCanv,s.GameVars.pixelSize,s.GameVars.gameWdAsPixels/2,32,"black",2)}}const{Reaper:f}=t(120),{Soul:z}=t(272),{Background:y}=t(482),{createElem:w}=t(879);class k{constructor(e){this.gameDiv=e,s.GameVars.resetGameVars(),this.background=new y(e);let a=w(this.gameDiv,"div",null,["soulcontainer"]);new z(a,0,0);const t=a.clientWidth,i=a.clientHeight,r=s.GameVars.gameW/4-t/2*3,n=s.GameVars.gameH/2-1.9*i;a.parentElement.removeChild(a);for(let e=0;e<3;e++){let a=[],l=[];for(let s=0;s<3;s++){let o=w(this.gameDiv,"div",null,["soulcontainer"]);o.style.transform="translate("+(r+t*s)+"px,"+(n+i*e)+"px)",a.push(o),l.push(null)}s.GameVars.soulsConts.push(a),s.GameVars.souls.push(l)}s.GameVars.souls[1][1]=new z(s.GameVars.soulsConts[1][1],1,1),s.GameVars.souls[1][1].select(),s.GameVars.soulsInGame++,s.GameVars.reaper=new f(e),this.background.generateGameTerrain(s.GameVars.reaper),this.ui=new V(e)}update(){if(s.GameVars.souls.forEach(((e,a)=>e.forEach(((e,t)=>{e&&e.isDead&&(e===s.GameVars.soulInUse&&(s.GameVars.soulInUse=null),e.soulCanv.parentElement.innerHTML="",s.GameVars.souls[a][t]=null,s.GameVars.soulsInGame--)})))),null===s.GameVars.soulInUse&&s.GameVars.soulsInGame>0){let e=(0,r.kh)(s.GameVars.souls,((e,a)=>null===s.GameVars.souls[e][a]));s.GameVars.soulInUse=s.GameVars.souls[e.y][e.x],s.GameVars.soulInUse.select()}s.GameVars.isPlayerTurn?this.ui.playerTurn():s.GameVars.reaper.reaperTurn(),s.GameVars.isEventRunning||this.ui.draw(),s.GameVars.redraw&&s.GameVars.cards.forEach((e=>e.draw())),s.GameVars.score=s.GameVars.reaper.rStats.maxLife-s.GameVars.reaper.rStats.life,s.GameVars.redraw=!1}}},482:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Background:()=>n});var s=t(85),i=t(652);const{createElem:r}=t(879);class n{constructor(e){this.bckElem=r(e,"canvas",null,["gameback"],s.GameVars.gameW,s.GameVars.gameH,"#686b7a"),this.bckCtx=this.bckElem.getContext("2d")}generateMainMenu(){let e={x:s.GameVars.gameWdAsPixels,y:s.GameVars.gameHgAsPixels/2-80},a=0;this.bckCtx.fillStyle="#333940";for(let t=0;t<200;t++)e=this.generateRandomTerrain(e,10,25,-5,5,30,200),a=this.generateRandomTrees(a,30,90,30);e={x:s.GameVars.gameWdAsPixels,y:s.GameVars.gameHgAsPixels/2-30},a=-10,this.bckCtx.fillStyle="#19191f";for(let t=0;t<250;t++)e=this.generateRandomTerrain(e,10,25,-4,4,30,200),a=this.generateRandomTrees(a,60,180,60);e={x:s.GameVars.gameWdAsPixels,y:s.GameVars.gameHgAsPixels/2+35},this.bckCtx.fillStyle="#e0e8f0";for(let a=0;a<300;a++)e=this.generateRandomTerrain(e,30,30,-1,1,100,800);e={x:s.GameVars.gameWdAsPixels,y:s.GameVars.gameHgAsPixels/2};let t=-10;this.bckCtx.fillStyle="#0f0e11",this.bckCtx.fillRect(0,s.GameVars.gameH/2+150*s.GameVars.pixelSize,s.GameVars.gameW,s.GameVars.gameH);for(let e=0;e<160;e++)t=this.generateInLineGraves(t,s.GameVars.gameHgAsPixels/2,16,25,65,90)}generateGameTerrain(e){const a=e.reaperCont.getBoundingClientRect();let t={x:Math.round(a.left/s.GameVars.pixelSize),y:Math.round(a.top/s.GameVars.pixelSize)};this.generateDeepTerrain(t),this.generateMiddleTerrain(t),this.generateWaterTerrain(t),this.generateCloseTerrain(t)}generateDeepTerrain(e){let a={x:s.GameVars.gameWdAsPixels,y:e.y+10},t=0;this.bckCtx.fillStyle="#333940";for(let e=0;e<200;e++)a=this.generateRandomTerrain(a,10,25,-5,5,30,200),t=this.generateRandomTrees(t,30,90,30)}generateMiddleTerrain(e){let a={x:s.GameVars.gameWdAsPixels,y:e.y+60},t=-10;this.bckCtx.fillStyle="#19191f";for(let e=0;e<250;e++)a=this.generateRandomTerrain(a,10,25,-4,4,30,200),t=this.generateRandomTrees(t,60,180,60)}generateWaterTerrain(e){let a={x:s.GameVars.gameWdAsPixels,y:e.y+125};this.bckCtx.fillStyle="#e0e8f0";for(let e=0;e<300;e++)a=this.generateRandomTerrain(a,30,30,-1,1,100,800)}generateCloseTerrain(e){let a={x:e.x+20,y:e.y+112},t=e.x+40;this.bckCtx.fillStyle="#0f0e11",this.bckCtx.fillRect(a.x*s.GameVars.pixelSize,a.y*s.GameVars.pixelSize,1e3*s.GameVars.pixelSize,800*s.GameVars.pixelSize);for(let s=0;s<160;s++)t=this.generateInLineGraves(t,e.y,16,25,65,90),a=this.generateRandomTerrain(a,4,8,-6,12,30,800)}generateRandomTerrain(e,a,t,r,n,l,o=100){if(e.x>2*-t&&e.y<s.GameVars.gameHgAsPixels){let h=e.x-(0,i.Dg)(a,t),u=e.y+(0,i.Dg)(r,n),d=Math.abs(u)-Math.abs(e.y);for(;e.y!==u;)this.bckCtx.fillRect(Math.round(e.x*s.GameVars.pixelSize),Math.round(e.y*s.GameVars.pixelSize),Math.round(l*s.GameVars.pixelSize),Math.round(o*s.GameVars.pixelSize)),e.x!==h&&(e.x-=(0,i.Dg)(1,a)),e.y!==u&&(d>0?e.y++:e.y--)}return e}generateRandomTrees(e,a,t,r){return e<s.GameVars.gameWdAsPixels+r&&(this.generateTree(e,s.GameVars.gameHgAsPixels/2,-1,1,-16,0,120,r),e+=(0,i.Dg)(a,t)),e}generateTree(e,a,t,r,n,l,o,h){let u=e,d=a,m=h;for(let e=0;e<o&&(this.bckCtx.fillRect(Math.round(u*s.GameVars.pixelSize),Math.round(d*s.GameVars.pixelSize),Math.round(m*s.GameVars.pixelSize),Math.round(m*s.GameVars.pixelSize)),u+=(0,i.Dg)(t,r),d+=(0,i.Dg)(n,l),m>h/3*2&&m--,!(d<-m));e++);}generateInLineGraves(e,a,t,r,n,l){return e<s.GameVars.gameWdAsPixels+r&&(this.generateGrave(e,Math.round(a+(0,i.Dg)(n,l))),e+=(0,i.Dg)(t,r)),e}generateGrave(e,a){this.bckCtx.fillRect((e+4)*s.GameVars.pixelSize,(a-25)*s.GameVars.pixelSize,20*s.GameVars.pixelSize,3*s.GameVars.pixelSize),this.bckCtx.fillRect((e+13)*s.GameVars.pixelSize,(a-35)*s.GameVars.pixelSize,3*s.GameVars.pixelSize,25*s.GameVars.pixelSize),this.bckCtx.fillRect((e+7)*s.GameVars.pixelSize,(a-10)*s.GameVars.pixelSize,16*s.GameVars.pixelSize,2*s.GameVars.pixelSize),this.bckCtx.fillRect((e+5)*s.GameVars.pixelSize,(a-9)*s.GameVars.pixelSize,20*s.GameVars.pixelSize,2*s.GameVars.pixelSize),this.bckCtx.fillRect((e+3)*s.GameVars.pixelSize,(a-7)*s.GameVars.pixelSize,24*s.GameVars.pixelSize,2*s.GameVars.pixelSize),this.bckCtx.fillRect((e+2)*s.GameVars.pixelSize,(a-5)*s.GameVars.pixelSize,26*s.GameVars.pixelSize,100*s.GameVars.pixelSize),this.bckCtx.fillRect((e+1)*s.GameVars.pixelSize,(a+1)*s.GameVars.pixelSize,28*s.GameVars.pixelSize,30*s.GameVars.pixelSize)}}},172:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Card:()=>p});var s=t(85),i=t(652);const{Soul:r}=t(272),{drawSprite:n,createElem:l}=t(879),{atkIcon:o,defIcon:h,minionIcon:u,skillIcon:d}=t(76),{genSmallBox:m,genLargeBox:c}=t(152),{convertTextToPixelArt:x,drawPixelTextInCanvas:g}=t(28);class p{constructor(e,a,t){this.isUsed=!1,this.isDispose=!1,this.cardCanv=l(e,"canvas",null,["card"],53*s.GameVars.pixelSize,85*s.GameVars.pixelSize),this.cardCanv.style.animation="cardturn 500ms linear",this.updateCardPos(a,t),this.dragElement(this),this.cardType=(0,i.cP)(4),this.drawCard()}useCard(){switch(s.GameVars.redraw=!0,this.cardType){case 0:s.GameVars.soulInUse.soulCanv.style.animation="",requestAnimationFrame((()=>setTimeout((()=>s.GameVars.soulInUse.soulCanv.style.animation="soulatk 900ms ease-in-out"),0))),setTimeout((()=>s.GameVars.reaper.takeDmg(s.GameVars.cardDmg)),250),this.afterUseCardsSettings();break;case 1:if(s.GameVars.soulsInGame!=s.GameVars.souls.length*s.GameVars.souls[0].length){s.GameVars.sound.spawnSound();let e=(0,i.kh)(s.GameVars.souls,((e,a)=>null!==s.GameVars.souls[e][a]));s.GameVars.souls[e.y][e.x]=new r(s.GameVars.soulsConts[e.y][e.x],e.x,e.y),s.GameVars.soulsInGame++,this.afterUseCardsSettings()}else this.cardCanv.style.top=null,this.cardCanv.style.left=null;break;case 2:s.GameVars.souls.forEach((e=>e.forEach((e=>{e&&!this.isDead&&(e.soulCanv.style.animation="",requestAnimationFrame((()=>setTimeout((()=>e.soulCanv.style.animation="soulatk 900ms ease-in-out"),0))),setTimeout((()=>s.GameVars.reaper.takeDmg(Math.ceil(s.GameVars.cardDmg/4)||1)),250))})))),this.afterUseCardsSettings();break;default:s.GameVars.soulInUse.soulStats.addShield(s.GameVars.cardShield),this.afterUseCardsSettings()}}afterUseCardsSettings(){this.isUsed=!0,s.GameVars.cardsPlayed++,this.dispose(),this.updateCards()}updateCards(){const e=s.GameVars.cardContW*s.GameVars.pixelSize/(s.GameVars.drawCardNumb-s.GameVars.cardsPlayed),a=e/2-this.cardCanv.width/2,t=s.GameVars.cardContY-2*s.GameVars.pixelSize;let i=0;s.GameVars.cards.forEach((r=>{r.isUsed||(r.updateCardPos(s.GameVars.cardContX+(i*e+a),t),i++)}))}updateCardPos(e,a){this.cardX=e,this.cardY=a,this.cardCanv.style.translate=e+"px "+a+"px "+this.cardCanv.width+"px"}draw(){1===this.cardType?s.GameVars.maxPlayCards-s.GameVars.cardsPlayed<=0||s.GameVars.soulsInGame===s.GameVars.souls.length*s.GameVars.souls[0].length?this.drawCard("gray"):this.drawCard():s.GameVars.maxPlayCards-s.GameVars.cardsPlayed<=0?this.drawCard("gray"):this.drawCard()}drawCard(e="White"){switch(c(this.cardCanv,2,2,50,82,s.GameVars.pixelSize,"black",e),m(this.cardCanv,7,14,40,31,s.GameVars.pixelSize,"black",e),m(this.cardCanv,7,48,40,31,s.GameVars.pixelSize,"black",e),m(this.cardCanv,13,42,28,9,s.GameVars.pixelSize,"black",e),this.cardType){case 0:n(this.cardCanv,o,s.GameVars.pixelSize),n(this.cardCanv,G,s.GameVars.pixelSize,10,19),this.generateCardText("shock","atk",s.GameVars.cardDmg+" damage");break;case 1:n(this.cardCanv,u,s.GameVars.pixelSize),n(this.cardCanv,f,s.GameVars.pixelSize,22,19),this.generateCardText("spirit","minion","+1 soul");break;case 2:n(this.cardCanv,d,s.GameVars.pixelSize),n(this.cardCanv,C,s.GameVars.pixelSize,10,18),this.generateCardText("resonanc","skill",""),g(x((Math.ceil(s.GameVars.cardDmg/4)||1)+" damage"),this.cardCanv,s.GameVars.pixelSize,28,60),g(x("per soul"),this.cardCanv,s.GameVars.pixelSize,28,68);break;default:n(this.cardCanv,h,s.GameVars.pixelSize),n(this.cardCanv,V,s.GameVars.pixelSize,20,20),this.generateCardText("harden","def",s.GameVars.cardShield+" shield")}}generateCardText(e,a,t){g(x(e),this.cardCanv,s.GameVars.pixelSize,33,9),g(x(a),this.cardCanv,s.GameVars.pixelSize,27,47),g(x(t),this.cardCanv,s.GameVars.pixelSize,28,64)}dispose(){null!==this.cardCanv.parentNode&&(this.isDispose||(this.isDispose=!0,this.cardCanv.style.animation="",requestAnimationFrame((()=>setTimeout((()=>this.cardCanv.style.animation="cardturn 200ms reverse linear"),0))),setTimeout((()=>this.cardCanv.parentElement.removeChild(this.cardCanv)),200)))}dragElement(e){let a=0,t=0,i=0,r=0,n=0,l=0,o=0;function h(a){(a=a||window.event).preventDefault(),a.touches&&a.touches.length>0?(n=a.touches[0].clientX,l=a.touches[0].clientY):(n=a.clientX,l=a.clientY),e.cardCanv.classList.add("ontop"),document.onmouseup=d,document.onmousemove=u,document.ontouchend=d,document.ontouchmove=u}function u(s){(s=s||window.event).preventDefault(),s.touches&&s.touches.length>0?(a=s.touches[0].clientX,t=s.touches[0].clientY):(a=s.clientX,t=s.clientY),i=n-a,r=l-t,n=a,l=t,o=e.cardCanv.offsetTop-r,e.cardCanv.style.top=o+"px",e.cardCanv.style.left=e.cardCanv.offsetLeft-i+"px"}function d(a){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null,s.GameVars.cardsPlayed<s.GameVars.maxPlayCards&&e.cardY-Math.abs(o)<e.cardY-e.cardCanv.height?e.useCard():(e.cardCanv.style.top=null,e.cardCanv.style.left=null),e.cardCanv.classList.remove("ontop")}e.cardCanv.onmousedown=h,e.cardCanv.ontouchstart=h}}const S=null,v="#000000",G=[[S,S,S,S,S,S,v,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,v,S,S,S,S,v,S,S,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,v,v,v,v,v,S,S,S,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,v,v,v,S,v,v,v,v,S,S,S,S,S,v,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S],[S,S,v,v,v,S,S,S,S,S,S,v,v,S,S,S,S,v,v,v,S,S,S,v,S,S,S,S,S,S,S,S,S,S],[S,S,v,S,S,S,S,S,S,S,S,S,v,v,v,S,S,v,v,v,S,S,v,v,S,S,S,S,S,S,S,S,S,S],[S,v,S,S,S,v,v,v,v,v,v,S,v,v,v,S,S,v,S,v,S,S,v,v,S,S,S,S,v,S,S,S,S,S],[S,v,S,S,v,S,S,v,v,v,v,v,S,v,v,v,v,v,S,v,S,v,v,v,v,S,S,S,v,S,S,S,S,S],[v,v,S,v,S,S,v,v,v,v,S,v,S,S,v,v,v,v,S,v,S,v,v,v,v,S,S,S,v,S,S,S,S,S],[S,v,S,v,S,v,v,v,v,v,v,v,S,S,v,v,v,S,S,v,S,v,S,v,v,S,S,v,v,v,S,S,S,S],[S,v,v,S,S,S,v,v,S,v,v,S,S,S,v,v,v,S,S,v,v,v,S,v,v,S,S,v,v,v,S,S,S,S],[S,v,v,S,S,S,S,v,v,v,v,S,S,S,v,v,S,S,S,v,v,v,S,v,v,S,S,v,S,v,v,S,v,S],[S,S,v,v,S,S,S,S,S,S,S,S,S,v,v,v,S,S,S,v,v,S,S,v,v,S,v,v,S,S,v,S,v,S],[S,S,v,v,v,S,S,S,S,S,S,S,v,v,v,S,S,S,S,v,v,S,S,S,v,S,v,S,S,S,v,v,v,v],[S,v,v,S,v,v,v,v,v,v,v,v,v,S,S,S,S,S,S,S,v,S,S,S,v,v,v,S,S,S,S,v,S,S],[S,S,S,S,S,S,v,S,S,S,v,v,S,S,S,S,S,S,S,S,v,S,S,S,v,v,S,S,S,S,S,v,S,S],[S,S,S,S,S,S,S,S,S,S,S,v,S,S,S,S,S,S,S,S,v,S,S,S,S,v,S,S,S,S,S,v,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,S,S,S,S,v,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,S,S,S,S,S,S,S,S]],C=[[S,S,S,S,S,S,v,S,v,S,v,v,S,v,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,S,v,v,S,v,S,S,v,v,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,v,v,v,S,S,v,S,S,v,v,S,S,v,v,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,v,v,S,S,v,v,v,S,S,v,v,S,v,v,S,v,S,S,v,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,v,v,S,v,v,v,v,v,S,v,v,v,v,v,v,v,S,S,v,S,S,S,S,S,S,S,S,S,S],[S,S,S,v,v,v,v,S,v,S,v,S,v,S,v,S,S,S,v,v,v,S,v,v,S,S,S,S,S,S,S,S,S,S],[v,S,v,v,v,v,v,S,S,v,v,v,S,S,v,S,v,S,S,v,v,S,v,v,v,S,S,S,S,S,S,S,S,S],[v,S,v,v,S,S,S,v,S,S,S,S,S,v,S,S,S,v,S,v,v,v,v,v,v,S,S,v,S,S,S,S,S,S],[v,v,v,S,S,v,S,v,v,S,v,v,v,S,S,v,v,v,S,S,v,v,v,v,v,S,S,v,v,S,S,S,S,S],[v,v,S,S,v,S,S,v,v,v,v,v,v,S,v,v,v,v,v,S,v,v,v,v,v,v,S,v,v,S,v,S,S,S],[v,S,S,v,v,v,S,S,v,v,v,v,v,S,v,S,v,S,v,S,v,v,v,S,v,v,v,v,v,S,v,v,S,S],[v,S,v,v,v,v,v,S,S,v,v,S,v,S,S,v,v,v,S,S,v,v,v,S,v,v,v,S,v,v,v,v,v,v],[v,S,v,S,v,S,v,S,v,v,S,S,S,v,S,S,S,S,S,v,v,v,v,S,v,v,v,S,S,v,S,S,v,S],[v,S,S,v,v,v,S,S,S,S,S,v,S,v,v,S,v,v,v,v,v,v,v,S,v,v,v,S,S,v,S,S,S,S],[v,v,S,S,S,S,S,v,S,v,v,S,S,S,v,v,v,v,S,S,v,v,v,S,S,v,v,S,S,v,S,S,S,S],[v,v,v,v,S,v,v,S,S,v,v,v,S,S,S,v,v,v,S,S,v,v,S,S,S,v,v,S,S,S,S,S,S,S],[S,v,v,v,v,v,v,S,v,v,v,v,v,S,v,v,v,v,S,S,S,v,S,S,S,v,S,S,S,S,S,S,S,S],[S,S,v,v,v,v,S,S,v,S,v,S,v,S,v,v,v,S,S,S,S,v,S,S,S,v,S,S,S,S,S,S,S,S],[S,S,v,v,v,v,v,S,S,v,v,v,S,S,v,S,v,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,v,S,v,v,v,v,S,S,S,S,S,v,v,S,v,S,S,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,v,S,v,v,S,v,v,v,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,v,S,S,S,v,v,v,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],V=[[S,S,S,S,S,v,v,v,v,v,v,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,v,v,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,v,S,S],[S,S,S,v,v,v,v,v,v,v,S,S,S,S,v,S],[S,S,v,v,v,v,v,v,v,v,v,S,S,S,v,S],[S,v,v,v,S,S,S,S,v,v,v,v,S,S,S,v],[v,v,v,S,S,v,v,v,v,v,v,v,S,S,S,v],[v,v,S,S,v,v,v,v,v,v,v,v,S,S,S,v],[v,v,S,S,v,v,v,v,v,v,v,v,S,S,S,v],[v,v,S,S,v,S,S,v,v,S,S,v,S,S,S,v],[v,v,S,S,v,v,S,v,v,S,v,v,S,S,S,v],[v,v,S,S,v,v,v,v,v,v,v,v,S,S,S,v],[v,v,S,S,S,v,v,v,v,v,v,S,S,S,v,S],[S,v,v,S,S,S,S,S,S,S,S,S,S,v,v,S],[S,v,v,v,S,S,S,S,S,S,S,S,v,v,S,S],[S,S,v,v,v,v,v,v,v,v,v,v,v,S,S,S],[S,S,S,S,v,v,v,v,v,v,v,S,S,S,S,S]],f=[[S,S,S,v,S,S,S,S,S,S,S],[S,S,S,S,v,v,S,S,S,S,S],[S,S,S,S,S,v,v,S,S,S,S],[S,S,S,S,v,v,v,S,S,S,S],[S,S,v,v,v,v,v,S,S,S,S],[S,v,v,v,v,v,S,S,S,S,S],[S,v,v,v,v,S,S,S,S,S,S],[S,v,v,v,v,v,S,S,S,S,S],[S,S,v,v,v,v,v,v,S,S,S],[S,S,S,v,v,v,v,v,v,S,S],[S,S,v,v,v,v,v,v,v,v,S],[S,v,v,v,v,v,v,v,v,v,S],[S,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v],[v,v,S,v,v,v,v,v,S,v,v],[v,v,S,S,v,v,v,S,S,v,v],[v,v,v,v,v,v,v,v,v,v,v],[S,v,v,v,v,v,v,v,v,v,S],[S,S,v,v,v,v,v,v,v,S,S]]},76:(e,a,t)=>{"use strict";t.r(a),t.d(a,{atkIcon:()=>n,audio:()=>c,buffIcon:()=>u,defIcon:()=>l,dollar:()=>x,minionIcon:()=>o,scytheIcon:()=>h,skillIcon:()=>d,speaker:()=>m});const s=null,i="#000000",r="white",n=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,r,i,i,r,r,r,r,r,r,r,r,r,r,i,i,r,s],[s,r,i,r,r,r,r,r,r,r,r,i,i,r,r,i,r,s],[r,i,i,r,r,r,r,r,r,r,i,i,i,r,r,i,i,r],[r,i,r,r,r,r,r,r,r,i,i,i,r,r,r,r,i,r],[r,i,r,r,i,i,i,r,i,i,i,r,r,r,r,r,i,r],[r,i,r,r,r,i,i,i,i,i,r,r,r,r,r,r,i,r],[r,i,r,r,r,r,i,i,i,r,r,r,r,r,r,r,i,r],[r,i,i,r,r,i,i,i,i,i,r,r,r,r,r,i,i,r],[s,r,i,r,r,i,i,r,i,i,r,r,r,r,r,i,r,s],[s,r,i,i,r,r,r,r,r,i,r,r,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],l=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,r,i,i,r,r,r,r,r,r,r,r,r,r,i,i,r,s],[s,r,i,r,r,i,i,r,r,r,r,i,i,r,r,i,r,s],[r,i,i,r,r,i,i,i,i,i,i,i,i,r,r,i,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,i,r,r,i,i,i,i,i,i,i,i,r,r,i,i,r],[s,r,i,r,r,r,i,i,i,i,i,i,r,r,r,i,r,s],[s,r,i,i,r,r,r,i,i,i,i,r,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],o=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,r,i,r,r,r,i,i,r,s,s],[s,r,i,i,r,r,r,r,i,r,r,r,r,r,i,i,r,s],[s,r,i,r,r,r,r,r,i,i,i,r,r,r,r,i,r,s],[r,i,i,r,r,r,r,r,r,i,i,i,r,r,r,i,i,r],[r,i,r,r,r,r,i,i,i,i,i,i,r,r,r,r,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,r,r,r,i,r,i,i,i,i,r,i,r,r,r,i,r],[r,i,r,r,r,i,r,r,i,i,r,r,i,r,r,r,i,r],[r,i,i,r,r,i,i,i,i,i,i,i,i,r,r,i,i,r],[s,r,i,r,r,i,i,i,i,i,i,i,i,r,r,i,r,s],[s,r,i,i,r,r,i,i,i,i,i,i,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],h=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,r,i,i,r,i,r,i,i,i,i,r,r,r,i,i,r,s],[s,r,i,r,r,i,i,i,i,i,i,i,r,r,r,i,r,s],[r,i,i,r,r,i,i,i,i,i,i,i,i,r,r,i,i,r],[r,i,r,r,r,i,i,i,r,r,r,i,i,r,r,r,i,r],[r,i,r,r,r,i,i,r,r,r,r,r,i,r,r,r,i,r],[r,i,r,r,r,i,r,r,r,r,r,r,i,r,r,r,i,r],[r,i,r,r,r,i,r,r,r,r,r,r,r,r,r,r,i,r],[r,i,i,r,r,i,r,r,r,r,r,r,r,r,r,i,i,r],[s,r,i,r,r,i,r,r,r,r,r,r,r,r,r,i,r,s],[s,r,i,i,r,i,r,r,r,r,r,r,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],u=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,i,i,r,r,r,i,i,r,s,s],[s,r,i,i,r,r,r,i,i,i,i,r,r,r,i,i,r,s],[s,r,i,r,r,r,i,i,i,i,i,i,r,r,r,i,r,s],[r,i,i,r,r,i,i,i,i,i,i,i,i,r,r,i,i,r],[r,i,r,r,r,i,i,i,i,i,i,i,i,r,r,r,i,r],[r,i,r,r,r,r,r,i,i,i,i,r,r,r,r,r,i,r],[r,i,r,r,r,r,r,i,i,i,i,r,r,r,r,r,i,r],[r,i,r,r,r,r,r,i,i,i,i,r,r,r,r,r,i,r],[r,i,i,r,r,r,r,i,i,i,i,r,r,r,r,i,i,r],[s,r,i,r,r,r,r,i,i,i,i,r,r,r,r,i,r,s],[s,r,i,i,r,r,r,i,i,i,i,r,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],d=[[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,r,i,i,r,r,r,i,i,i,i,r,r,r,i,i,r,s],[s,r,i,r,r,i,i,i,i,i,i,i,i,r,r,i,r,s],[r,i,i,r,r,i,i,r,r,r,r,i,i,r,r,i,i,r],[r,i,r,r,i,i,r,r,r,r,r,r,i,i,r,r,i,r],[r,i,r,r,i,i,r,r,i,i,r,r,i,i,r,r,i,r],[r,i,r,r,i,i,r,r,i,i,r,r,i,i,r,r,i,r],[r,i,r,r,i,i,r,r,r,r,r,r,i,i,r,r,i,r],[r,i,i,r,r,i,i,r,r,r,r,i,i,r,r,i,i,r],[s,r,i,r,r,i,i,i,i,i,i,i,i,r,r,i,r,s],[s,r,i,i,r,r,r,i,i,i,i,r,r,r,i,i,r,s],[s,s,r,i,i,r,r,r,r,r,r,r,r,i,i,r,s,s],[s,s,s,r,i,i,i,r,r,r,r,i,i,i,r,s,s,s],[s,s,s,s,r,r,i,i,i,i,i,i,r,r,s,s,s,s],[s,s,s,s,s,s,r,r,r,r,r,r,s,s,s,s,s,s]],m=[[s,s,s,i,s],[s,i,i,i,s],[i,i,i,i,i],[i,i,i,i,i],[s,i,i,i,s],[s,s,s,i,s]],c=[[s,s,s,s],[s,s,i,s],[i,s,s,i],[s,i,s,i],[s,i,s,i],[s,i,s,i],[s,i,s,i],[i,s,s,i],[s,s,i,s],[s,s,s,s]],x=[[s,s,i,s,s],[i,i,i,i,i],[i,s,i,s,s],[i,i,i,i,i],[s,s,i,s,i],[i,i,i,i,i],[s,s,i,s,s]]},120:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Reaper:()=>g,grimReaper:()=>G});var s=t(85),i=t(652),r=t(146);const{drawSprite:n,createElem:l}=t(879),{atkIcon:o,defIcon:h,scytheIcon:u,buffIcon:d}=t(76),{genSmallBox:m}=t(152),{convertTextToPixelArt:c,drawPixelTextInCanvas:x}=t(28);class g{constructor(e){this.rAtk=4,this.rAoeAtk=3,this.rDef=2,this.rBuffPwr=1,this.rAct=0,this.rLckOnSoul=null,this.isDead=!1,this.isNewTurn=!0,this.reaperCont=l(e,"div",null,["reapercontainer"]),this.rActCanv=l(this.reaperCont,"canvas","reaperaction",null,u[0].length*s.GameVars.pixelSize,(u.length+4)*s.GameVars.pixelSize),this.rActCtx=this.rActCanv.getContext("2d"),this.rCanv=l(this.reaperCont,"canvas","reaper",null,G[0].length*s.GameVars.pixelSize,G.length*s.GameVars.pixelSize),this.rCanv.style.animation="addsoul 500ms ease-in-out",this.rCanv.addEventListener("animationend",(()=>{this.isDead=this.rStats.life<=0,this.isDead?this.reaperCont.innerHTML="":(this.rCanv.style.animation="reaperAnim 6s infinite ease-in-out",this.draw())})),this.rCtx=this.rCanv.getContext("2d"),this.rStats=new r.q(this.reaperCont,36,999,0);let a=s.GameVars.gameW/4*3-this.reaperCont.clientWidth/2,t=s.GameVars.gameH/2-this.reaperCont.clientHeight/2;this.reaperCont.style.transform="translate("+a+"px,"+t+"px)",this.draw(),this.calcReaperNextAct()}reaperTurn(){this.isNewTurn&&(this.isNewTurn=!1,1!==this.rAct&&2!==this.rAct||(this.rCanv.style.animation="",requestAnimationFrame((()=>setTimeout((()=>this.rCanv.style.animation="reaperatk 1s ease-in-out"),0)))),setTimeout((()=>{switch(this.rAct){case 1:if(this.rLckOnSoul.soulStats.life>0)this.rLckOnSoul.takeDmg(this.rAtk);else{let e=[];s.GameVars.souls.forEach((a=>a.forEach((a=>{a&&a.soulStats.life>0&&e.push(a)})))),e[(0,i.cP)(e.length)].takeDmg(this.rAtk)}break;case 2:s.GameVars.souls.forEach((e=>e.forEach((e=>{e&&e.takeDmg(this.rAoeAtk)}))));break;case 3:this.rCanv.style.animation="addshield 500ms ease-in-out",this.rAtk+=this.rBuffPwr,this.rAoeAtk+=this.rBuffPwr,this.rDef+=this.rBuffPwr,this.rBuffPwr+=3,s.GameVars.sound.buffSound();break;default:this.rStats.addShield(this.rDef)}this.calcReaperNextAct(),setTimeout((()=>{s.GameVars.isPlayerTurn=!0,this.isNewTurn=!0}),750)}),250))}calcReaperNextAct(){if(s.GameVars.turnCount===s.GameVars.reaperNextEventTurn)s.GameVars.reaperNextEventTurn+=6,this.rAct=3;else{let e=[],a=[],t=0;if(s.GameVars.souls.forEach((s=>s.forEach((s=>{if(s&&s.soulStats.life>0){e.push(s);let i=s.soulStats.life+s.soulStats.shield;i-this.rAtk<=0&&a.push(s),i-this.rAoeAtk<=0&&t++}})))),t>a.length)this.rAct=2;else if(a.length>t)this.rAct=1,this.rLckOnSoul=a[(0,i.cP)(a.length)];else{let t=(0,i.cP)(100);t<40?this.rAct=2:t<80?(this.rAct=1,a.length>0?this.rLckOnSoul=a[(0,i.cP)(a.length)]:this.rLckOnSoul=e[(0,i.cP)(e.length)]):this.rAct=0}}switch(this.rActCtx.clearRect(0,0,this.rActCanv.width,this.rActCanv.height),this.rAct){case 1:this.drawAct(o,this.rAtk);break;case 2:this.drawAct(u,this.rAoeAtk);break;case 3:this.drawAct(d,this.rBuffPwr);break;default:this.drawAct(h,this.rDef)}}drawAct(e,a){n(this.rActCanv,e,s.GameVars.pixelSize),m(this.rActCanv,0,e.length-4,17,7,s.GameVars.pixelSize,"black","white"),x(c(a),this.rActCanv,s.GameVars.pixelSize,9,e.length,"black")}takeDmg(e){this.rStats.shield-e<0?this.draw("red"):this.draw("lightblue"),this.rStats.takeDmg(e),this.rStats.life>0?this.rCanv.style.animation="takedmg 400ms ease-in-out":(this.rCanv.style.animation="addsoul 500ms reverse ease-in-out",s.GameVars.sound.deadSound())}draw(e=null){this.rCtx.clearRect(0,0,this.rCanv.width,this.rCanv.height),n(this.rCanv,G,s.GameVars.pixelSize,0,0,e)}}const p=null,S="#000000",v="#edeef7",G=[[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,v,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,v,v,p,p,p,p,p,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,v,v,v,v,v,v,v,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,v,p,p,p,p,p,p,p,p,p,p,v,v,S,S,S,v,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,S,S,v,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,S,v,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,p,p,p,p,p,p,v,S,v,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,v,v,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,v,v,v,v,v,v,v,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,v,v,v,v,v,v,v,v,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,v,S,S,v,v,v,v,v,S,S,v,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,v,S,S,S,S,v,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,v,S,S,S,S,v,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,v,S,S,S,v,S,v,S,S,S,v,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,v,v,v,v,v,v,v,v,v,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,v,S,v,S,v,S,v,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,v,S,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,v,v,v,v,v,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,v,v,v,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,v,v,S,S,S,S,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,S,S,S,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,v,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,v,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,v,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,v,p,p,p,v,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,S,v,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[v,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,v,S,S,S,S,S,S,S,S,S,v,S,S,S,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,v,S,v,S,v,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,v,S,S,S,S,S,S,S,S,S,v,v,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,v,S,v,S,S,S,S,S,v,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,v,S,v,S,v,S,S,S,v,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,v,S,S,S,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,v,S,S,v,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,v,S,v,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,v,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,p,v,v,v,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,v,v,v,p,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,p,p,v,S,S,S,v,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,v,S,S,S,v,p,p,p,p],[p,p,p,p,p,p,p,v,S,S,v,p,v,v,S,S,S,v,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p,v,S,S,S,v,v,p,p],[p,p,p,p,p,p,p,v,S,S,v,v,S,v,S,S,S,S,v,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,S,S,S,S,v,S,v,p],[p,p,p,p,p,p,p,v,S,S,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,S,S,v],[p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v],[p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v],[p,p,p,p,p,p,p,v,S,S,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p],[p,p,p,p,p,p,p,p,v,v,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,v,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,v,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,S,S,S,S,S,S,S,S,S,v,v,v,S,S,S,S,S,S,S,S,S,S,S,S,v,v,v,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,v,v,v,p,p,p,v,v,v,v,v,v,v,v,v,v,v,v,p,p,p,p,p,p,p,p]]},272:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Soul:()=>l,soul:()=>m});var s=t(85),i=t(146);const{drawSprite:r,createElem:n}=t(879);class l{constructor(e,a,t){this.x=a,this.y=t,this.isDead=!1,this.arrowCanv=n(e,"canvas",null,["arrow","hidden"],g[0].length*s.GameVars.pixelSize,g.length*s.GameVars.pixelSize),r(this.arrowCanv,g,s.GameVars.pixelSize),this.soulCanv=n(e,"canvas",null,["soul"],m[0].length*s.GameVars.pixelSize,m.length*s.GameVars.pixelSize,null,(e=>{this.select(),s.GameVars.sound.clickSound()})),this.soulCanv.style.animation="addsoul 500ms ease-in-out",this.soulCanv.addEventListener("animationend",(()=>{this.soulCanv.style.animation="soulAnim 6s infinite ease-in-out",this.isDead=this.soulStats.life<=0,this.draw()})),this.soulCtx=this.soulCanv.getContext("2d"),this.soulStats=new i.q(e,33,s.GameVars.soulLife,0),this.draw()}select(){s.GameVars.soulInUse&&s.GameVars.soulInUse.deselect(),s.GameVars.soulInUse=s.GameVars.souls[this.y][this.x],this.arrowCanv.classList.remove("hidden")}deselect(){this.arrowCanv.classList.add("hidden")}takeDmg(e){this.soulStats.shield-e<0?this.draw("red"):this.draw("lightblue"),this.soulStats.life>0?(this.soulCanv.style.animation="takedmg 400ms ease-in-out",this.soulStats.takeDmg(e)):(this.soulCanv.style.animation="addsoul 500ms reverse ease-in-out",s.GameVars.sound.deadSound())}draw(e=null){this.soulCtx.clearRect(0,0,this.soulCanv.width,this.soulCanv.height),r(this.soulCanv,m,s.GameVars.pixelSize,0,0,e)}}const o=null,h="#10495e",u="#9bf2fa",d="#edeef7",m=[[o,o,o,o,o,o,o,o,o,o,d,o,o,o,o,o,o,o,o,o],[o,o,o,o,o,o,o,o,d,d,h,d,o,o,o,o,o,o,o,o],[o,o,o,o,o,o,o,d,h,h,d,o,o,o,o,o,o,o,o,o],[o,o,o,o,o,o,d,h,h,d,o,o,o,o,o,o,o,o,o,o],[o,o,o,o,o,o,d,h,h,h,d,d,o,o,o,o,o,o,o,o],[o,o,o,o,o,o,o,d,h,h,h,h,d,o,o,o,o,o,o,o],[o,o,o,o,o,o,o,d,d,h,u,h,d,o,o,o,o,o,o,o],[o,o,o,o,o,o,d,h,h,u,u,h,d,o,o,o,o,o,o,o],[o,o,o,o,o,d,h,u,u,u,h,d,o,o,o,o,o,o,o,o],[o,o,o,o,d,h,u,u,u,h,d,o,d,o,o,o,o,o,o,o],[o,o,o,o,d,h,u,u,u,h,d,d,h,d,o,o,o,o,o,o],[o,o,o,o,d,h,u,u,u,u,h,h,h,d,o,o,o,o,o,o],[o,o,o,o,o,d,h,u,u,u,u,u,h,d,o,o,o,o,o,o],[o,o,o,o,o,o,d,h,u,u,u,h,d,d,o,o,o,o,o,o],[o,o,o,o,d,d,h,u,u,u,u,u,h,h,d,d,o,o,o,o],[o,o,o,d,h,h,u,u,u,u,u,u,u,u,h,h,d,o,o,o],[o,o,d,h,u,u,u,u,u,u,u,u,u,u,u,u,h,d,o,o],[o,d,h,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,d,o],[o,d,h,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,d,o],[d,h,u,u,u,u,u,d,d,d,d,d,d,u,u,u,u,u,h,d],[d,h,u,u,h,u,d,d,d,d,d,d,d,d,u,h,u,u,h,d],[d,h,u,h,u,h,h,h,d,d,d,d,h,h,h,u,h,u,h,d],[d,h,u,h,u,d,d,d,h,d,d,h,d,d,d,u,h,u,h,d],[d,h,u,h,u,d,d,d,h,d,d,h,d,d,d,u,h,u,h,d],[d,h,u,u,h,d,d,h,d,d,d,d,h,d,d,h,u,u,h,d],[o,d,h,u,u,h,h,d,d,d,d,d,d,h,h,u,u,h,d,o],[o,d,h,u,u,u,d,d,d,d,d,d,d,d,u,u,u,h,d,o],[o,o,d,h,u,u,u,d,d,d,d,d,d,u,u,u,h,d,o,o],[o,o,o,d,h,h,u,u,u,u,u,u,u,u,h,h,d,o,o,o],[o,o,o,o,d,d,h,h,u,u,u,u,h,h,d,d,o,o,o,o],[o,o,o,o,o,o,d,d,h,h,h,h,d,d,o,o,o,o,o,o],[o,o,o,o,o,o,o,o,d,d,d,d,o,o,o,o,o,o,o,o]],c="#ffff57",x="#000000",g=[[o,o,o,o,d,d,d,o,o,o,o],[o,o,o,d,x,x,x,d,o,o,o],[o,o,d,x,c,c,c,x,d,o,o],[o,o,d,x,c,c,c,x,d,o,o],[o,o,d,x,c,c,c,x,d,o,o],[o,o,d,x,c,c,c,x,d,o,o],[o,d,x,x,c,c,c,x,x,d,o],[d,x,c,c,c,c,c,c,c,x,d],[d,x,c,c,c,c,c,c,c,x,d],[o,d,x,c,c,c,c,c,x,d,o],[o,o,d,x,c,c,c,x,d,o,o],[o,o,o,d,x,c,x,d,o,o,o],[o,o,o,o,d,x,d,o,o,o,o],[o,o,o,o,o,d,o,o,o,o,o]]},146:(e,a,t)=>{"use strict";t.d(a,{q:()=>u});var s=t(85);const{defIcon:i}=t(76),{drawSprite:r,createElem:n}=t(879),{genSmallBox:l}=t(152),{convertTextToPixelArt:o,drawPixelTextInCanvas:h}=t(28);class u{constructor(e,a,t,i){this.maxLife=t,this.life=t,this.shield=i,this.w=a,this.statsCanv=n(e,"canvas",null,["status"],(18+a)*s.GameVars.pixelSize,22*s.GameVars.pixelSize),this.statsCanv.addEventListener("animationend",(()=>this.statsCanv.style.animation="")),this.statsCtx=this.statsCanv.getContext("2d"),this.draw()}takeDmg(e){s.GameVars.sound.takeDmgSound(),this.shield>0&&(this.shield-=e,this.shield<=0&&(e=Math.abs(this.shield),this.shield=0)),0==this.shield&&(this.life-=e,this.life<0&&(this.life=0)),this.draw()}addShield(e){s.GameVars.sound.gainShield(),this.statsCanv.style.animation="",requestAnimationFrame((()=>setTimeout((()=>this.statsCanv.style.animation="addshield 500ms ease-in-out"),0))),this.shield+=e,this.draw()}draw(){this.statsCtx.clearRect(0,0,this.statsCanv.width,this.statsCanv.height),l(this.statsCanv,16,3,this.w+1,11,s.GameVars.pixelSize,"white","white"),this.shield>0&&(r(this.statsCanv,i,s.GameVars.pixelSize),l(this.statsCanv,0,i.length-4,17,7,s.GameVars.pixelSize,"black","white"),h(o(this.shield),this.statsCanv,s.GameVars.pixelSize,9,i.length,"black")),l(this.statsCanv,17,4,this.w-1,9,s.GameVars.pixelSize,"black","white"),this.statsCtx.fillStyle=this.shield>0?"lightblue":"red",this.statsCtx.fillRect(18*s.GameVars.pixelSize,5*s.GameVars.pixelSize,this.life*((this.w-2)*s.GameVars.pixelSize)/this.maxLife,8*s.GameVars.pixelSize);const e=o(this.life+"/"+this.maxLife);h(e,this.statsCanv,s.GameVars.pixelSize,17+this.w/2,9)}}},152:(e,a,t)=>{"use strict";t.r(a),t.d(a,{genLargeBox:()=>i,genSmallBox:()=>s});const s=(e,a,t,s,i,l,o,h)=>{h&&n(e,a,t,s,i,l,h),r(e,a,t,s,i,l,o,((e,a,t,s)=>0===a&&e>0&&e<t||a===s&&e>0&&e<t||0===e&&a>0&&a<s||e===t&&a>0&&a<s))},i=(e,a,t,s,i,l,o,h)=>{h&&n(e,a,t,s,i,l,h),r(e,a,t,s,i,l,o,((e,a,t,s)=>a<3&&e>0&&e<t||a>s-3&&e>0&&e<t||e<3>0&&a>0&&a<s||e>t-3&&a>0&&a<s||3===a&&3===e||3===a&&e===t-3||a===s-3&&3===e||e===t-3&&a===s-3))},r=(e,a,t,s,i,r,n,l)=>{const o=e.getContext("2d");for(let e=0;e<=i;e++)for(let h=0;h<=s;h++)l(h,e,s,i)&&(o.fillStyle=n,o.fillRect(Math.round(a*r+h*r),Math.round(t*r+e*r),r,r))},n=(e,a,t,s,i,r,n)=>{const l=e.getContext("2d");l.fillStyle=n,l.fillRect(Math.round(a*r+r),Math.round(t*r+r),Math.round(s*r-r),Math.round(i*r-r))}},879:(e,a,t)=>{"use strict";t.r(a),t.d(a,{createElem:()=>i,drawSprite:()=>s});const s=(e,a,t,s=0,i=0,r=null)=>{const n=e.getContext("2d");a.forEach(((e,a)=>e.forEach(((e,l)=>{null!==e&&(n.fillStyle=r||e,n.fillRect(s*t+l*t,i*t+a*t,t,t))}))))},i=(e,a,t,s,i,r,n,l)=>{let o=document.createElement(a);return t&&(o.id=t),s&&s.forEach((e=>o.classList.add(e))),i&&(o.width=i),r&&(o.height=r),n&&(o.style.backgroundColor=n),l&&o.addEventListener("click",l),e.appendChild(o),o}},652:(e,a,t)=>{"use strict";t.d(a,{Dg:()=>s,cP:()=>i,kh:()=>r});const s=(e,a)=>Math.floor(Math.random()*(a-e+1))+e,i=e=>Math.floor(Math.random()*e),r=(e,a)=>{let t=i(e.length),s=i(e[0].length);return a(t,s)?r(e,a):{x:s,y:t}}},52:(e,a,t)=>{"use strict";t.r(a),t.d(a,{Sound:()=>s});class s{constructor(){const e=window.AudioContext||window.webkitAudioContext;this.context=new e,this.loopTime=.016,this.loopMaxTime=4,this.notesPeerLoop=32,this.currentTime=this.loopMaxTime/this.notesPeerLoop,this.musicBassNote=0,this.musicMelodyNote=0,this.isSoundOn=!0,this.isSoundInitialized=!1}muteMusic(){this.isSoundOn=!this.isSoundOn}initSound(){this.isSoundInitialized=!0,this.context.resume()}clickSound(){this.isSoundOn&&this.isSoundInitialized&&this.playSound(i,174.6,.14,0,.2)}takeDmgSound(){this.isSoundOn&&this.isSoundInitialized&&(this.playSound(i,32.7,.14,0,.1),this.playSound(i,36.71,.14,.1,.2),this.playSound(i,16.35,.16,.2,.2))}gainShield(){this.isSoundOn&&this.isSoundInitialized&&(this.playSound(i,233.1,.1,0,.1),this.playSound(i,466.2,.1,.1,.2))}spawnSound(){this.isSoundOn&&this.isSoundInitialized&&this.playSound(i,293.7,.1,0,.2)}deadSound(){this.isSoundOn&&this.isSoundInitialized&&(this.playSound(i,18.35,.1,0,.1),this.playSound(i,36.71,.1,.1,.2),this.playSound(i,73.42,.1,.2,.2))}buffSound(){this.isSoundOn&&this.isSoundInitialized&&(this.playSound(i,932.3,.1,0,.1),this.playSound(i,1865,.1,.1,.2))}playMusic(){this.isSoundOn&&this.isSoundInitialized&&(this.currentTime>=this.loopMaxTime/this.notesPeerLoop?(this.playSound("triangle",r[this.musicBassNote],.5,0,.2),this.musicBassNote++,this.musicBassNote>=r.length&&(this.musicBassNote=0),this.playSound(i,n[this.musicMelodyNote],.08,0,.2),this.musicMelodyNote++,this.musicMelodyNote>=n.length&&(this.musicMelodyNote=0),this.currentTime=0):this.currentTime=this.currentTime+this.loopTime)}playOverSound(){this.isSoundOn&&this.isSoundInitialized&&(this.playSound(i,32.7,.3,0,.1),this.playSound(i,36.71,.2,.1,.2),this.playSound(i,16.35,.3,.2,.1))}playSound(e,a,t,s,i){const r=this.context.createOscillator(),n=this.context.createGain();r.type=e,r.frequency.value=a,n.gain.setValueAtTime(t,this.context.currentTime),n.gain.linearRampToValueAtTime(1e-5,this.context.currentTime+i),r.connect(n),n.connect(this.context.destination),r.start(s),r.stop(this.context.currentTime+i)}}const i="square",r=[61.74,null,92.5,null,61.74,null,92.5,null,61.74,null,92.5,null,61.74,null,92.5,null,73.42,null,110,null,73.42,null,110,null,73.42,null,110,null,73.42,null,110,null],n=[246.9,277.2,293.7,329.6,370,293.7,370,null,349.2,277.2,349.2,null,329.6,261.6,329.6,null,246.9,277.2,293.7,329.6,370,293.7,370,493.9,440,370,293.7,370,440,null,null,null,246.9,277.2,293.7,329.6,370,293.7,370,null,349.2,277.2,349.2,null,329.6,261.6,329.6,null,246.9,277.2,293.7,329.6,370,293.7,370,493.9,440,370,293.7,370,440,null,null,null,784,880,987.8,1047,1175,987.8,1175,null,1245,987.8,1245,null,1175,987.8,1175,null,784,880,987.8,1047,1175,987.8,1175,null,1319,987.8,1319,null,1175,null,null,null,784,880,987.8,1047,1175,987.8,1175,null,1245,987.8,1245,null,1175,987.8,1175,null,784,880,987.8,1047,1175,987.8,1175,null,1319,987.8,1319,null,1175,null,null,null]},28:(e,a,t)=>{"use strict";t.r(a),t.d(a,{convertTextToPixelArt:()=>i,drawPixelTextInCanvas:()=>s});const s=(e,a,t,s,i,r="black",n=1)=>{const l=a.getContext("2d"),o=t*n,h=e[0].length*o/2,u=e.length*o/2,d=s*t-h,m=i*t-u;e.forEach(((e,a)=>e.forEach(((e,t)=>{e&&(l.beginPath(),l.fillStyle=r,l.fillRect(Math.round(d+t*o),Math.round(m+a*o),o,o))}))))},i=e=>{const a=e.toString().split("");let t=[];return n.forEach(((e,s)=>{let i=[];a.forEach(((e,t)=>{t>0&&i.push([!1]);const n=r(a[t]);i.push(n[s])})),t.push(i.flat())})),t},r=e=>{switch(e.toLowerCase()){case"a":return l;case"b":return o;case"c":return h;case"d":return u;case"e":return d;case"f":return m;case"g":return c;case"h":return x;case"i":return g;case"j":return p;case"k":return S;case"l":return v;case"m":return G;case"n":return C;case"o":return V;case"p":return f;case"r":return z;case"s":return y;case"t":return w;case"u":return k;case"v":return b;case"w":return A;case"x":return P;case"y":return T;case"z":return M;case"!":return H;case"+":return W;case"/":return E;case"(":return I;case")":return R;case"-":return D;case"0":return L;case"1":return B;case"2":return N;case"3":return O;case"4":return U;case"5":return Y;case"6":return q;case"7":return X;case"8":return F;case"9":return j;default:return n}},n=[[!1],[!1],[!1],[!1],[!1]],l=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0],[!0,!1,!0],[!0,!1,!0]],o=[[!0,!0,!1],[!0,!1,!0],[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],h=[[!0,!0,!0],[!0,!1,!1],[!0,!1,!1],[!0,!1,!1],[!0,!0,!0]],u=[[!0,!0,!1],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],d=[[!0,!0,!0],[!0,!1,!1],[!0,!0,!0],[!0,!1,!1],[!0,!0,!0]],m=[[!0,!0,!0],[!0,!1,!1],[!0,!0,!0],[!0,!1,!1],[!0,!1,!1]],c=[[!0,!0,!0],[!0,!1,!1],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],x=[[!0,!1,!0],[!0,!1,!0],[!0,!0,!0],[!0,!1,!0],[!0,!1,!0]],g=[[!0],[!0],[!0],[!0],[!0]],p=[[!0,!0,!0],[!1,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],S=[[!0,!1,!0],[!0,!1,!0],[!0,!0,!1],[!0,!1,!0],[!0,!1,!0]],v=[[!0,!1,!1],[!0,!1,!1],[!0,!1,!1],[!0,!1,!1],[!0,!0,!0]],G=[[!0,!0,!0,!0,!0],[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0]],C=[[!0,!0,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0]],V=[[!0,!0,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],f=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0],[!0,!1,!1],[!0,!1,!1]],z=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!1],[!0,!1,!0],[!0,!1,!0]],y=[[!0,!0,!0],[!0,!1,!1],[!0,!0,!0],[!1,!1,!0],[!0,!0,!0]],w=[[!0,!0,!0],[!1,!0,!1],[!1,!0,!1],[!1,!0,!1],[!1,!0,!1]],k=[[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],b=[[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!1,!0,!1]],A=[[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0],[!0,!1,!0,!1,!0],[!0,!0,!0,!0,!0]],P=[[!0,!1,!0],[!0,!0,!0],[!1,!0,!1],[!0,!0,!0],[!0,!1,!0]],T=[[!0,!1,!0],[!0,!1,!0],[!0,!0,!0],[!1,!0,!1],[!1,!0,!1]],M=[[!0,!0,!0],[!1,!1,!0],[!1,!0,!1],[!0,!1,!1],[!0,!0,!0]],H=[[!0,!0],[!0,!0],[!0,!1],[!1,!1],[!0,!1]],W=[[!1,!1,!1],[!1,!0,!1],[!0,!0,!0],[!1,!0,!1],[!1,!1,!1]],E=[[!1,!0],[!1,!0],[!0,!0],[!0,!1],[!0,!1]],D=[[!1,!1],[!1,!1],[!0,!0],[!1,!1],[!1,!1]],I=[[!1,!0],[!0,!1],[!0,!1],[!0,!1],[!1,!0]],R=[[!0,!1],[!1,!0],[!1,!0],[!1,!0],[!0,!1]],L=[[!0,!0,!0],[!0,!1,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0]],B=[[!0],[!0],[!0],[!0],[!0]],N=[[!0,!0,!0],[!1,!1,!0],[!0,!0,!0],[!0,!1,!1],[!0,!0,!0]],O=[[!0,!0,!0],[!1,!1,!0],[!0,!0,!0],[!1,!1,!0],[!0,!0,!0]],U=[[!1,!0,!0],[!0,!1,!0],[!0,!1,!0],[!0,!0,!0],[!1,!1,!0]],Y=[[!0,!0,!0],[!0,!1,!1],[!0,!0,!0],[!1,!1,!0],[!0,!0,!0]],q=[[!0,!0,!0],[!0,!1,!1],[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],X=[[!0,!0,!0],[!1,!1,!0],[!1,!0,!0],[!1,!0,!1],[!1,!0,!1]],F=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],j=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0],[!1,!1,!0],[!0,!0,!0]]}},a={};function t(s){var i=a[s];if(void 0!==i)return i.exports;var r=a[s]={exports:{}};return e[s](r,r.exports,t),r.exports}t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const{GameVars:e}=t(85),{Game:a}=t(897),{grimReaper:s}=t(120),{soul:i}=t(272),{drawSprite:r,createElem:n}=t(879),{Sound:l}=t(52),{convertTextToPixelArt:o,drawPixelTextInCanvas:h}=t(28),{genLargeBox:u,genSmallBox:d}=t(152),{speaker:m,audio:c,dollar:x}=t(76),{Background:g}=t(482);let p,S,v,G,C,V,f,z,y,w,k,b,A,P,T,M,H,W=parseInt(localStorage.getItem(e.storeId))||0,E=0;function D(){G.clearRect(0,0,v.width,v.height);let a=5*e.pixelSize;r(v,s,a,Math.round(e.gameW/a/4*3-s[0].length/2),Math.round(e.gameH/a/6*4-s.length/2));let t=2*e.pixelSize;r(v,i,t,Math.round(e.gameW/t/24*8-i[0].length/2),Math.round(e.gameH/t/24*11-i.length/2));let n=4*e.pixelSize;r(v,i,n,Math.round(e.gameW/n/8*1-i[0].length/2),Math.round(e.gameH/n/8*3-i.length/2));let l=6*e.pixelSize;r(v,i,l,Math.round(e.gameW/l/4*1-i[0].length/2),Math.round(e.gameH/l/6*4-i.length/2));let d=e.gameWdAsPixels/2;W>0?(u(v,-20,Math.round(e.gameHgAsPixels/14-25),e.gameWdAsPixels+40,110,e.pixelSize,"black","rgba(255,255,255,0.9)"),h(o("best score "+W),v,e.pixelSize,d,e.gameHgAsPixels/14+72,"black",2)):u(v,-20,Math.round(e.gameHgAsPixels/14-25),e.gameWdAsPixels+40,85,e.pixelSize,"black","rgba(255,255,255,0.9)"),h(o("the raising"),v,e.pixelSize,d,e.gameHgAsPixels/14,"black",6),h(o("fighting spirits"),v,e.pixelSize,d,e.gameHgAsPixels/14+36,"black",6),u(v,-20,Math.round(e.gameHgAsPixels/24*23-15),e.gameWdAsPixels+40,30,e.pixelSize,"black","rgba(255,255,255,0.9)"),h(o("js13kgames 2022 game by igor estevao"),v,e.pixelSize,d,e.gameHgAsPixels/24*23,"black",2)}function I(a){let t=e.reaper.isDead?-1*(e.turnCount-1e3)+1:0;t=t<0?0:t,E=e.score+t,h(o("score"),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2-10,"black",4),h(o("reaper life taken - "+e.score),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2+15,"black",2),h(o("turns taken to kill reaper - "+t),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2+30,"black",2),h(o("(less turns give more points)"),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2+45,"black",2),h(o("total - "+E),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2+60,"black",2),E>W&&h(o("new record!"),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2+80,"black",2)}function R(){e.sound||(e.sound=new l,e.sound.initSound())}let L=1e3/30,B=Date.now();function N(){elapsed=Date.now()-B,elapsed>L&&(B=Date.now()-elapsed%L,H&&(H.update(),e.soulsInGame<=0&&(y.clearRect(0,0,z.width,z.height),u(z,-20,e.gameHgAsPixels/2-85,e.gameWdAsPixels+40,180,e.pixelSize,"black","white"),h(o("crossed over"),z,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2-50,"black",6),I(z),z.classList.remove("hidden")),e.reaper.isDead&&!M&&(M=!0,k.clearRect(0,0,w.width,w.height),u(w,-20,e.gameHgAsPixels/2-85,e.gameWdAsPixels+40,180,e.pixelSize,"black","white"),h(o("liberated"),w,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/2-50,"black",6),I(w),setTimeout((()=>w.classList.remove("hidden")),250))),O(),e.sound&&e.sound.playMusic()),window.requestAnimationFrame((()=>N()))}function O(){A.clearRect(0,0,b.width,b.height),u(b,0,0,26,24,e.pixelSize,"black",e.sound&&e.sound.isSoundOn?"rgba(255,255,255,0.8)":"rgba(150,150,150,0.8)"),r(b,m,2*e.pixelSize,2,3),e.sound&&e.sound.isSoundOn&&r(b,c,2*e.pixelSize,7,1)}function U(){T.clearRect(0,0,P.width,P.height),u(P,0,0,26,24,e.pixelSize,"black",e.isMonetActive?"gold":"rgba(150,150,150,0.8)"),r(P,x,2*e.pixelSize,4,3)}function Y(){W<E&&(W=E,localStorage.setItem(e.storeId,W),D())}p=document.getElementById("main"),e.resetGameVars(),document.monetization&&(document.monetization.addEventListener("monetizationstart",(()=>{R(),setTimeout((()=>e.sound.buffSound()),0),e.isMonetActive=!0,U()})),document.monetization.addEventListener("monetizationstop",(()=>{R(),setTimeout((()=>e.sound.playOverSound()),0),e.isMonetActive=!1,U()}))),f=n(p,"div","game"),S=n(p,"div",null,null,e.gameW,e.gameH),new g(S).generateMainMenu(),v=n(S,"canvas","main-menu",null,e.gameW,e.gameH),C=n(S,"canvas",null,null,140*e.pixelSize,60*e.pixelSize,null,(t=>(R(),e.sound.clickSound(),S.classList.add("hidden"),V.classList.remove("hidden"),M=!1,void(H=new a(f))))),C.style.translate=e.gameW/2-C.width/2+"px "+(e.gameH/2-C.height/2+40*e.pixelSize)+"px",u(C,0,0,139,59,e.pixelSize,"black","rgba(255, 255, 255, 0.9)"),h(o("click/touch"),C,e.pixelSize,70,22,"black",2),h(o("to start game"),C,e.pixelSize,70,38,"black",2),G=v.getContext("2d"),D(),function(){V=n(p,"div","game-tutorial",["hidden","ontop"]);let a=n(V,"canvas",null,null,e.gameW,e.gameH,"rgb(101,107,114,0.6)");u(a,-20,Math.round(e.gameHgAsPixels/14-25),e.gameWdAsPixels+40,50,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("tutorial"),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels/14,"black",6),d(a,e.gameWdAsPixels/4-70,e.gameHgAsPixels/2-80,160,24,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("click/touch to select a soul"),a,e.pixelSize,e.gameWdAsPixels/4+10,e.gameHgAsPixels/2-72),h(o("or use the buttons at the bottom right"),a,e.pixelSize,e.gameWdAsPixels/4+10,e.gameHgAsPixels/2-62),d(a,e.gameWdAsPixels/4*3-40,e.gameHgAsPixels/2-89,100,12,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("reaper next turn action"),a,e.pixelSize,e.gameWdAsPixels/4*3+10,e.gameHgAsPixels/2-82),d(a,0,e.gameHgAsPixels-126,68,21,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("cards you can play"),a,e.pixelSize,34,e.gameHgAsPixels-120),h(o("per turn"),a,e.pixelSize,34,e.gameHgAsPixels-110),d(a,e.gameWdAsPixels/2-80,e.gameHgAsPixels-107,160,13,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("drag cards off the hand area to play them"),a,e.pixelSize,e.gameWdAsPixels/2,e.gameHgAsPixels-100);let t=n(V,"canvas",null,null,140*e.pixelSize,40*e.pixelSize,null,(a=>{e.sound.clickSound(),V.classList.add("hidden")}));t.style.translate=(e.gameW-t.width)/2+"px "+(e.gameH-t.height-120*e.pixelSize)+"px",u(t,0,0,139,39,e.pixelSize,"black","rgba(255,255,255,0.8)"),h(o("skip tutorial"),t,e.pixelSize,70,20,"black",2)}(),z=n(p,"canvas","gameoverscreen",["hidden","ontop"],e.gameW,e.gameH,"rgba(255,75,75,0.9)",(()=>{z.classList.add("hidden"),S.classList.remove("hidden"),e.sound.clickSound(),f.innerHTML="",H=null,Y()})),y=z.getContext("2d"),w=n(p,"canvas","winscreen",["hidden","ontop"],e.gameW,e.gameH,"rgba(150,150,255,0.9)",(()=>{w.classList.add("hidden"),S.classList.remove("hidden"),e.sound.clickSound(),f.innerHTML="",H=null,Y()})),k=w.getContext("2d"),P=n(p,"canvas","moneticon",["ontop"],27*e.pixelSize,25*e.pixelSize),P.style.translate=10*e.pixelSize+"px "+Math.round((e.gameHgAsPixels/14-13)*e.pixelSize)+"px",T=P.getContext("2d"),U(),b=n(p,"canvas","soundbtn",["ontop"],27*e.pixelSize,25*e.pixelSize,null,(()=>{e.sound?e.sound.muteMusic():(e.sound=new l,e.sound.initSound())})),b.style.translate=e.gameW-37*e.pixelSize+"px "+Math.round((e.gameHgAsPixels/14-13)*e.pixelSize)+"px",A=b.getContext("2d"),O(),window.requestAnimationFrame((()=>N()))})()})();